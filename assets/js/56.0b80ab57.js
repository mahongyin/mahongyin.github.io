(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{535:function(s,t,e){"use strict";e.r(t);var a=e(2),r=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("blockquote",[e("p",[s._v("将 vuepress 部署到 GitHub pages 并启用 ZEIT/vercel 加速 & 域名"),e("br")])]),s._v(" "),e("blockquote",[e("p",[s._v("将 "),e("code",[s._v("vuepress")]),s._v("  主仓库  "),e("code",[s._v("repo")]),s._v("  和展示仓库 "),e("code",[s._v(".github.io")]),s._v("  分离示例:")])]),s._v(" "),e("p",[s._v("官方文档 "),e("a",{attrs:{href:"https://zeit.co/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("zeit.co/docs"),e("OutboundLink")],1),e("br"),s._v("\nzeit 现在名字是 vercel 域名为 zeit.co/vercel.com")]),s._v(" "),e("p",[s._v("前置条件")]),s._v(" "),e("ul",[e("li",[s._v("熟悉 GitHub & git 的使用")]),s._v(" "),e("li",[s._v("熟悉任意一种 vuepress|| 各种可以使用 GitHub pages 搭建的博客框架")]),s._v(" "),e("li",[s._v("熟悉域名解析操作")])]),s._v(" "),e("h2",{attrs:{id:"vuepress-相关本地配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-相关本地配置"}},[s._v("#")]),s._v(" vuepress 相关本地配置")]),s._v(" "),e("p",[s._v("vuepress  "),e("code",[s._v("package.json")]),s._v("  中添加脚本文件")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"docs:dev"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress dev docs"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"docs:build"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress build docs"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"deploy"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bash deploy.sh"')]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("将部署命令打包为脚本 deploy.sh")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run docs:build\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" docs/.vuepress/dist\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'feng-w.cn'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" CNAME\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deploy'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -f git@github.com:fengwei2002/fengwei2002.github.io.git master\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("推送到 github.io 域名空间即可，若自己已购买域名则添加 echo 那一行")]),s._v(" "),e("p",[s._v("bash 中执行  "),e("code",[s._v("yarn run deploy")]),s._v("  即可部署至 GitHub pages"),e("br"),s._v("\nbash 中执行  "),e("code",[s._v("yarn docs:dev")]),s._v("  即可本地预览")]),s._v(" "),e("h2",{attrs:{id:"使用-neit-vercel-进行加速-可选"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-neit-vercel-进行加速-可选"}},[s._v("#")]),s._v(" 使用 NEIT/vercel 进行加速：(可选)")]),s._v(" "),e("p",[s._v("一个小小的博客而已，完全没必要买服务器，💴多不说了"),e("br"),s._v("\n GitHub pages 使用 zeit/vercel 提供的搭载文件服务"),e("br"),s._v("\n国内访问也可以达到正常速度（图床除外）")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://zeit.co/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("zeit.co 官网介绍文档"),e("OutboundLink")],1),e("br"),s._v(" "),e("a",{attrs:{href:"https://zeit.co/dashboard",target:"_blank",rel:"noopener noreferrer"}},[s._v(" ZEIT 控制台"),e("OutboundLink")],1)]),s._v(" "),e("p",[e("s",[s._v("别推送太频繁（一分钟五次？），否则仓库会暂时挂掉的  "),e("code",[s._v("socket hang up")])])]),s._v(" "),e("blockquote",[e("p",[s._v("不得不说的是这个 zeit/vercel 的官网页面是真好看")])]),s._v(" "),e("p",[s._v("我之前使用的是  "),e("code",[s._v("Vuepress")]),s._v(" + "),e("code",[s._v("GitHubPages")]),s._v(" + "),e("code",[s._v("zeit.co")]),s._v("  + 腾讯云域名"),e("br"),s._v("\n我现在使用的是"),e("br"),s._v(" "),e("code",[s._v("Vuepress")]),s._v(" + "),e("code",[s._v("GitHubPages")]),s._v(" + "),e("code",[s._v("zeit.co")]),s._v(" + "),e("code",[s._v("vercel提供的 xxx.now.sh")]),s._v("  域名")]),s._v(" "),e("p",[s._v("优化前:")]),s._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"GitHub pages + 腾讯云域名",width:"424",height:"298","data-src":"https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/2020-04-15-12-55-57.png",loading:"lazy"}})]),s._v(" "),e("p",[s._v("优化后:"),e("br"),s._v(" "),e("img",{staticClass:"lazy",attrs:{alt:"效果还行",width:"424",height:"298","data-src":"https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/2020-04-15-12-55-29.png",loading:"lazy"}})]),s._v(" "),e("p",[s._v("官方文档有详细介绍 (英文 hhh)，就不当翻译官了，自行查阅"),e("br"),s._v("\n部署过程中重要的一些截图:（参考）")]),s._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"import仓库的最后一步","data-src":"https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/2020-04-20-15-35-06.png",loading:"lazy"}})]),s._v(" "),e("blockquote",[e("p",[s._v("一直选默认配置，最后这一步选 other 即可")])]),s._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"可选的三种域名，前两种免费","data-src":"https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/2020-12-10-21-27-19.png",loading:"lazy"}})]),s._v(" "),e("p",[s._v("大概的加速过程就是先手动推送文件到 GitHub，然后 vercel 进行文件爬取，vercel 进行渲染，GitHub page 也进行渲染网页，同时两个站点刷新网页对应的域名内容"),e("br"),s._v("\n但是 vercel 在台湾，GitHub pages 在美国旧金山")]),s._v(" "),e("h2",{attrs:{id:"腾讯云域名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#腾讯云域名"}},[s._v("#")]),s._v(" 腾讯云域名")]),s._v(" "),e("p",[s._v("阿里云买的也一样")]),s._v(" "),e("p",[s._v("部分重要参考截图")]),s._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"添加后","data-src":"https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/2020-04-20-15-40-09.png",loading:"lazy"}})]),s._v(" "),e("p",[s._v("这是控制板的解析配置")]),s._v(" "),e("blockquote",[e("p",[s._v("腾讯云一分钟内解析就会生效了")])]),s._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"解析截图","data-src":"https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/2020-04-20-15-44-57.png",loading:"lazy"}})]),s._v(" "),e("blockquote",[e("p",[s._v("注意:vercel 官网示例中的 ANAME== 域名解析中的 CNAME")])]),s._v(" "),e("p",[s._v("这样配置的话每次提交到 GitHub 后就会自动部署到 zeit/vercel 中，"),e("br"),s._v("\nvercel 进行网页渲染"),e("br"),s._v("\n实现国内的加速目的")]),s._v(" "),e("p",[s._v("记得不要开启谷歌分析，否则国内就会白加速了。。")]),s._v(" "),e("p",[s._v("还有就是每次部署后如果使用 chrome 的话如果没刷新内容"),e("br"),s._v("\n可以使用 ctrl + F5 清除浏览器缓存强制刷新一下，秒部署是秒部署，但是本地浏览器可能不生效")]),s._v(" "),e("h2",{attrs:{id:"now-sh-域名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#now-sh-域名"}},[s._v("#")]),s._v(" .now.sh 域名")]),s._v(" "),e("p",[s._v("因为目前的博客其实偏向于玩具项目"),e("br"),s._v("\n自己还没有什么资历，写的文章也会只有一丁点的访问量"),e("br"),s._v("\n基本就是用来记笔记的 hhh"),e("br"),s._v("\n 然后就：一个小小的博客而已，完全没必要买域名..")]),s._v(" "),e("p",[s._v("并且突然觉得 feng-w.cn 这个域名突然觉得有点 xxs 了，喜兴厌旧本喜（")]),s._v(" "),e("p",[s._v("现在的主域名是")]),s._v(" "),e("p",[s._v("konng.now.sh"),e("br"),s._v("\nkonng.vercel.app"),e("br"),s._v("\n（当然距离 xxs 域名过期时间还早，依然可以访问）")]),s._v(" "),e("p",[s._v("第一个域名后缀也很帅的"),e("br"),s._v("\n这两种域名后缀直接添加就好")]),s._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"选个好听的免费域名吧~","data-src":"https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/2020-12-10-21-36-09.png",loading:"lazy"}})]),s._v(" "),e("p",[s._v("访问速度和国内域名没什么变化，减少了一次域名再解析，理应更快了")]),s._v(" "),e("h2",{attrs:{id:"推荐"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#推荐"}},[s._v("#")]),s._v(" 推荐")]),s._v(" "),e("p",[s._v("试过 hexo Jekyll hugo gitee 服务器 gitee")]),s._v(" "),e("p",[s._v("0 费用最佳方案:"),e("br"),s._v(" "),e("code",[s._v("vuepress + GitHub pages + picgo&github + vercel.com + xxx.now.sh")]),s._v(" "),e("br"),s._v("\n 不在乎💴最佳方案:"),e("br"),s._v(" "),e("code",[s._v("vuepress + 阿里云OSS + 阿里云服务器 + 阿里云域名")])]),s._v(" "),e("p",[s._v("具体每个的使用方法建议谷歌官方文档")])])}),[],!1,null,null,null);t.default=r.exports}}]);